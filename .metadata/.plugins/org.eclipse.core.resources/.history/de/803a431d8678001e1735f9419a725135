#include "pcb_allocator.h"


PCB_NODE * allocate_pcb(PCB data){
	PCB_NODE * node = (PCB_NODE*)malloc(sizeof(PCB_NODE));
	if (node == NULL){
		// error
	}

	node->pcb_data.Pid = data.Pid;
	node->pcb_data.Pc = data.Pc;
	memcpy(node->pcb_data.Reg, data.Reg, NUM_REGISTER);
	node->pcb_data.Cpsr = data.Cpsr;

	node->before = NULL;
	node->after = NULL;

	return node;
}

void add_pcb(PCB data){
	PCB_NODE * node = allocate_pcb(data);

	if(ptr_PCB_Creator == NULL){
		ptr_PCB_Head = node;
		ptr_PCB_Creator = node;
		node->after = ptr_PCB_Creator;
		node->before = ptr_PCB_Creator;
		ptr_PCB_Current = ptr_PCB_Creator;
	}
	else{
		node->before = ptr_PCB_Creator;
		node->after = ptr_PCB_

	}


}
